# This workflow will build a Java project with Gradle
# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle

name: Java CI with Gradle

on:
  workflow_dispatch:
    inputs: 
      version:
        description: "Please provide image version"
        required: false
        default: '1.1'
env:
  APP_VERSION : ${{ github.sha }}

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name : set APP_VERSION
        if: ${{ github.event.inputs.version != '' }}
        run: |
          VER=${{ github.event.inputs.version }}
      - name : set APP_VERSION1
        if: ${{ github.event.inputs.version == '' }}
        run: |
          VER={{ env.APP_VERSION }}

      - run: "echo hello ${{ github.sha }}"
      - run: "echo hello $VER"
    

